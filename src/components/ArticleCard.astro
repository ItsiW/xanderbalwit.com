---
interface Props {
  title: string;
  publication: string;
  description: string;
  url: string;
  year?: number | string;
  image?: string;
}

const { title, publication, description, url, year, image } = Astro.props;
---

<a href={url} target="_blank" rel="noopener" class="group block no-underline">
  <article class:list={[
    "border-l-4 border-primary-blue hover:border-primary-red transition-colors",
    image ? "sm:flex sm:gap-5 pl-5 py-4" : "pl-6 py-4"
  ]}>
    {image && (
      <div class="w-full h-36 sm:w-36 sm:h-24 sm:shrink-0 rounded overflow-hidden bg-cream-dark mb-3 sm:mb-0">
        <img
          src={image}
          alt=""
          class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
          loading="lazy"
        />
      </div>
    )}
    <div class="min-w-0">
      <div class="flex items-baseline gap-3 flex-wrap">
        <h3 class="font-serif text-xl text-charcoal group-hover:text-primary-red transition-colors">
          {title}
        </h3>
        {year && <span class="text-sm text-charcoal-light">{year}</span>}
      </div>
      <p class="text-sm font-medium text-primary-red mt-1">{publication}</p>
      <p class="text-charcoal-light mt-2 text-sm leading-relaxed line-clamp-2">{description}</p>
    </div>
  </article>
</a>
